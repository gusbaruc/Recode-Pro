<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' href='css/bootstrap.css'>
    <title>Desafio 01</title>

    <style>
        .container {
            position: relative;
            top: 20px;
            background-color: rgb(241, 240, 240);
        }

        h1 {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container">
        <!--LINHA 1-->
        <div class="row">
            <div class="col">
                <h1>Cadastro de Livros</h1>
                <hr>
            </div>
        </div>

        <!--LINHA 2-->
        <div class="row">
            <div class="col-md-6 col-sm-12">
                <label>Nome do autor:</label>
                <input type="text" class="form-control" id="nomeAutor">
            </div>

            <div class="col-md-6 col-sm-12">
                <label>Título:</label>
                <input type="text" class="form-control" id="titulo">
            </div>
        </div>

        <!--LINHA 3--><br>
        <div class="row">
            <div class="col-md-6 col-sm-12">
                <label>Número da edição:</label>
                <input type="text" class="form-control" id="numEdicao">
            </div>

            <div class="col-md-6 col-sm-12">
                <label>Local de publicação:</label>
                <input type="text" class="form-control" id="localPublic">
            </div>
        </div>

        <!--LINHA 4--><br>
        <div class="row">
            <div class="col-md-6 col-sm-12">
                <label>Nome da editora:</label>
                <input type="text" class="form-control" id="nomeEditora">
            </div>

            <div class="col-md-6 col-sm-12">
                <label>Ano de publicação:</label>
                <input type="text" class="form-control" id="anoPublic">
            </div>
        </div>

        <!--LINHA 5--><br>
        <div class="row justify-content-end">
            <div class="col">
                <button type="button" class="btn btn-success" onclick="imprimir()">Imprimir</button>
            </div>
        </div>
        <hr>

        <!--LINHA 6-->
        <div class="row">
            <div class="col">
                <label>Referência bibliográfica no padrão da ABNT:</label>
                <input type="text" class="form-control" id="refBiblic" disabled>
            </div>
        </div><br>
    </div>

    <script>
        //Criação do Objeto
        var livro = {
            nomeAutor: "",
            titulo: "",
            numEdicao: "",
            localPublic: "",
            nomeEditora: "",
            anoPublic: ""
        }

        function imprimir() {
            //Atribuindo dados ao Objeto
            livro.nomeAutor = document.getElementById("nomeAutor").value
            livro.titulo = document.getElementById("titulo").value
            livro.numEdicao = document.getElementById("numEdicao").value
            livro.localPublic = document.getElementById("localPublic").value
            livro.nomeEditora = document.getElementById("nomeEditora").value
            livro.anoPublic = document.getElementById("anoPublic").value

            //Imprimindo valor no TextBox
            document.getElementById("refBiblic").value = livro.nomeAutor.slice(7, 14).toUpperCase() + 
                                                            ", " + livro.nomeAutor.slice(0, 1).toUpperCase() + 
                                                            ". " + firstToUpper(livro.titulo) + 
                                                            ": " + livro.numEdicao + ". ed. " +
                                                            firstToUpper(livro.localPublic) + ": " +
                                                            firstToUpper(livro.nomeEditora) + ", " + livro.anoPublic


        }

        function firstToUpper(texto) {
            var palavras = texto.toLowerCase().split(" ");
            
            for (var i = 0; i < palavras.length; i++) {
                var w = palavras[i];

                palavras[i] = w[0].toUpperCase() + w.slice(1);
            }
            return palavras.join(" ");
        }

    </script>

    <script src="js/jquery.js"></script>
    <script src="js/popper.js"></script>
    <script src="js/bootstrap.js"></script>
</body>

</html>